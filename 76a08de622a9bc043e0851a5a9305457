/* ProjectName:Task ProjectVersion: 39 | OfflinePackageVersion:39 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-188e1c10"],{"25fd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAABFElEQVR4Ae3ZUQqCQBAG4OhA3a737tshbA0HhpgpH4qE/RZkhl9R93Nf1NPJIECAAAECBAgQIECAAAECBAgQIECAAAECEwosy3Jbtwmn/nnKG84ozwEpkw2SdeW8jms+Ztp+qFQ495FfpkWJicMJiaLCKVAighMSRYVToEQEJySKCqdAiQhOSBQVToESEZyQKCqcAiWiBmfEvx9xD4etg6B6t/q9zHaFb8Ocv31C59sh8M9VtOP2jnFIg+QzRn48kLJG00NqYHIMKWs0PaQGJseQskbTQ2pgcgwpazQ9pAYmx5CyRtNDamBy3CD59fwG6Zb36TeBbSXBsSIIECBAgAABAgQIECBAgAABAgQIECBAYEqBB4dQFeAs3zOiAAAAAElFTkSuQmCC"},"49ea":function(t,e,i){"use strict";i("eea1")},6561:function(t,e,i){},d08d:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("TitleBar",{staticClass:"taskh5-titlebar",attrs:{mirrorRotateX:t.mirrorRotateX,actions:t.actions,showBack:!t.isTabbarShow,startImmersionHeight:t.startImmersionHeight},on:{rules:t.jumpToRules,back:t.handleClickBack,notice:t.openNoticePop,share:t.handleShare,showScrollTitleBar:t.showScrollTitleBar}})},n=[],r=i("5530"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:["titlebar-warp",{dark:t.dark},{"client-no-support":t.clientNoSupportImmr}],style:{height:t.h+"px"}},[o("div",{class:[{scroll:t.isShowScrollTitleBar||t.defMode},{"bottom-line":t.showBottomLine}],style:{backgroundColor:t.isShowScrollTitleBar?t.immerBgColor:""}},[o("div",{class:["main-content",{mirrorRotateX:t.mirrorRotateX}]},[o("div",{staticClass:"left-content"},[t.showBack?o("img",{staticClass:"title-icon-back",attrs:{src:i("25fd")},on:{click:t.handleClickBack}}):t._e(),t.title||t.scrollTitle?o("div",{staticClass:"title-text"},[t._v(" "+t._s(t.showTitle)+" ")]):t._e(),t.$slots.left?t._t("left"):t._e()],2),o("div",{staticClass:"right-slot"},[t.$slots.right?t._t("right"):t._l(t.actions,(function(e){return o("div",{key:e.action,class:[{"all-btn":t.allBtnClass},"btn-item"],on:{click:function(i){return t.handleClickBtn(e)}}},[e.visible?["btn"===e.btn_type?o("div",{class:["btn",{"default-scroll-btn":t.isDefaultScrollBtn}],style:t.getBtnStyle(e)},[t._v(" "+t._s(e.btn_text)+" ")]):o("div",{staticClass:"titlebar-icon-box"},[o("img",{staticClass:"titlebar-icon",attrs:{src:t.getIconUrl(e)}}),e.red_dot?o("div",{staticClass:"titlebar-icon-red"},[t._v("1")]):t._e()])]:t._e()],2)}))],2)])])])},a=[],c=(i("caad"),i("2ca0"),i("a9e3"),i("d3b7"),i("e9c4"),i("6561"),i("63cb")),l=i("f121"),h=function(t){var e=t.hybirdPortal,i=void 0===e?"web":e,o=t.params,n=void 0===o?{}:o;try{window[l["b"]].syncInvoke(i,"setTitleBar",JSON.stringify(n))}catch(r){}},d=function(t){var e=t.hybirdPortal,i=void 0===e?"web":e,o=t.visible,n=void 0===o||o;try{window[l["b"]].syncInvoke(i,"setTitleBarVisible",JSON.stringify({visible:n}))}catch(r){}},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"web",e=80;try{var i=window[l["b"]].syncInvoke(t,"getTitleBarHeight",""),o=JSON.parse(i);return"0"===o.responseCode?o.titlebar_height:e}catch(n){return e}},A={props:{mode:{type:String,default:"immr",validator:function(t){return["immr","def"].includes(t)}},immerBgColor:{type:String,default:"",validator:function(t){return""===t||t.startsWith("#")}},title:{type:String,default:""},scrollTitle:{type:String,default:""},startImmersionHeight:{type:Number,default:0},mirrorRotateX:{type:Boolean,default:!1},darkMode:{type:Boolean,default:!0},initDarkMode:{type:Boolean,default:!1},actions:{type:Array,default:function(){return[]},validator:function(t){return t.length<=2}},bottomLine:{type:Boolean,default:!1},showBack:{type:Boolean,default:!0}},data:function(){return{h:0,appVersion:0,isShowScrollTitleBar:!1}},computed:{defMode:function(){return"def"===this.mode},showBottomLine:function(){return this.bottomLine||this.defMode},showTitle:function(){return this.isShowScrollTitleBar?this.scrollTitle:this.title},clientNoSupportImmr:function(){return this.appVersion<4062045},allBtnClass:function(){return this.actions.every((function(t){return"btn"===t.btn_type}))},dark:function(){return this.isShowScrollTitleBar&&this.darkMode||!this.isShowScrollTitleBar&&this.initDarkMode||this.defMode},isDefaultScrollBtn:function(){return this.isShowScrollTitleBar&&!this.immerBgColor}},created:function(){this._getAppVer(),h({params:{start_immersion_height:this.startImmersionHeight,immersion_height:0,init_dark_mode:!!this.defMode||this.initDarkMode,dark_mode:!!this.defMode||this.darkMode,title_text:JSON.stringify({text:""})}}),this.h=this.clientNoSupportImmr?56:u()},mounted:function(){d({visible:!1}),window.addEventListener("scroll",this.listenScroll)},destroyed:function(){window.removeEventListener("scroll",this.listenScroll)},methods:{getIconUrl:function(t){var e=t.img_dark,i=t.img_light;return this.dark?e:i},getBtnStyle:function(t){var e=t.btn_dark_bg_color,i=t.btn_dark_font_color,o=t.btn_light_bg_color,n=t.btn_light_font_color;return this.dark?{backgroundColor:e,color:i}:{backgroundColor:o,color:n}},handleClickBack:function(){this.$emit("back")},handleClickBtn:function(t){var e=t.action;this.$emit(e)},listenScroll:function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>this.startImmersionHeight?this.isShowScrollTitleBar=!0:this.isShowScrollTitleBar=!1,this.$emit("showScrollTitleBar",this.isShowScrollTitleBar)},_getAppVer:function(){var t=Object(c["deviceInfo"])()||{};this.appVersion=t.app_ver||0}}},m=A,p=i("2877"),f=Object(p["a"])(m,s,a,!1,null,null,null),g=f.exports,b=i("fb60"),k={name:"TaskH5Titlebar",components:{TitleBar:g},props:{noticeData:{type:Object,default:null},hasInviteTask:{type:Boolean,default:!1}},data:function(){return{ruleIcon:{btn_type:"icon",action:"rules",img_light:"".concat("https://shareit.hpyfeds.com","/icons/info.png"),img_dark:"".concat("https://shareit.hpyfeds.com","/icons/info_dark.png"),visible:!0},shareIcon:{btn_type:"icon",action:"share",img_light:"".concat("https://shareit.hpyfeds.com","/icons/share.png"),img_dark:"".concat("https://shareit.hpyfeds.com","/icons/share_dark.png"),visible:!0},noticeIcon:{btn_type:"icon",action:"notice",img_light:"".concat("https://shareit.hpyfeds.com","/icons/notice.png"),img_dark:"".concat("https://shareit.hpyfeds.com","/icons/notice_dark.png"),visible:!0}}},computed:{mirrorRotateX:function(){return this.$store.state.isRtl},actions:function(){if(this.showNotice){var t=this.$store.state.homeModule.showNoticeRedDot;return[Object(r["a"])(Object(r["a"])({},this.noticeIcon),{},{red_dot:t}),this.ruleIcon]}return this.hasInviteTask&&!this.isTabbarShow?[this.ruleIcon,this.shareIcon]:[this.ruleIcon]},startImmersionHeight:function(){return this.$store.state.homeModule.isNewStyle?10:50},isTabbarShow:function(){return this.$store.state.homeModule.isTabbarShow},showNotice:function(){return!!this.noticeData}},watch:{showNotice:function(t,e){t&&!e&&this.logIcon("show","/newtask/public/x")}},methods:{handleClickBack:function(){this.$emit("back")},jumpToRules:function(){this.logIcon("click","/newtask/topRules/x");var t="".concat("https://shareit.hpyfeds.com","/relat/rules/index.html?titlebar=hide&screen=vertical&cache=open&theme=immr&portal=Task&from=Home");Object(b["a"])(t,!1)},openNoticePop:function(){var t;this.logIcon("click","/newtask/public/x"),this.$store.commit("switchHomePopShow",{key:"showNoticeRedDot",value:!1});var e=null===(t=this.noticeData)||void 0===t?void 0:t.titleText;localStorage.setItem("MvpStorage-NoticeIconClick",e),this.$store.commit("switchHomePopShow",{key:"showNoticePop",value:!0})},handleShare:function(){this.logIcon("click","/newtask/topShare/x"),this.$emit("handleShare")},logIcon:function(t,e){this.$stLog({params:{eventId:"".concat(t,"_ve"),pve_cur:e}})},showScrollTitleBar:function(t){this.$store.commit("setHomeTitleIsShow",t)}}},w=k,B=(i("49ea"),Object(p["a"])(w,o,n,!1,null,"c00456f0",null));e["default"]=B.exports},eea1:function(t,e,i){}}]);