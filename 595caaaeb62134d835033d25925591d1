/* ProjectName:Task ProjectVersion: 39 | OfflinePackageVersion:39 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6554b0e5"],{b3b3:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{directives:[{name:"intersection",rawName:"v-intersection"}],staticClass:"base-task-item",attrs:{"data-log":t.taskItemShowLog},on:{click:function(s){return s.stopPropagation(),t.taskClick("card")}}},[a("div",{staticClass:"main-content"},[t.taskIcon?a("img",{staticClass:"task-icon",attrs:{src:t.taskIcon,onerror:"this.style.display='none'",alt:""}}):t._e(),a("div",{staticClass:"left-content",class:{"sm-width":t.taskIcon}},[a("div",{staticClass:"name"},[t._v(" "+t._s(t.taskTitle)+" ")]),t.taskSubtitle?a("div",{staticClass:"des"},[t._v(" "+t._s(t.taskSubtitle)+" ")]):t.showCenterCoin?a("div",{staticClass:"coin"},[t.coins?[a("i",{staticClass:"icon icon-task-coins"}),a("span",{staticClass:"coin-num"},[t._v("+"+t._s(t.coins))]),t.notFixed?a("span",{staticClass:"highest"},[t._v(t._s(t.$t("Home.highest")))]):t._e()]:t._e(),t.showProgressText?a("span",{staticClass:"task-progress"},[t._v("("),a("span",[t._v(t._s(t.taskData.current))]),t._v("/"+t._s(t.taskData.total)+")")]):t._e(),t._t("input")],2):t._e()]),t.isShowDefaultBtn?a("div",{staticClass:"right-content",on:{click:function(s){return s.stopPropagation(),t.taskClick("button")}}},[t.showRightCoin&&t.notFixed?a("div",{staticClass:"right-higgest"},[a("div",[t._v(t._s(t.$t("Home.highest")))])]):t._e(),t.showRightCoin?a("div",{staticClass:"right-coin"},[a("i",{staticClass:"icon icon-task-coins"}),a("span",{staticClass:"coin-num"},[t._v("+"+t._s(t.coins))])]):t._e(),1===t.taskStatus?a("div",{staticClass:"btn receive"},[t._v(" "+t._s(t.$t("Home.claim"))+" ")]):3===t.taskStatus?a("div",{class:["btn",[t.TASK_SLEEP,t.CLASS_NO_TRADE_GUIDE].includes(t.taskClass)?"go":"count"]},[a("i",{staticClass:"clock"}),a("span",[t._v(t._s(t._f("formatTime")(t.time,t.country)))])]):2===t.taskStatus?[t.taskCode!==t.TASK_GIFT_BAG||t.notSupportShare?t.taskClass===t.CLASS_GAME_TAKE_TIME?a("div",{staticClass:"btn go"},[t._v(" "+t._s(t.$t("Home.go"))+" ")]):a("div",{staticClass:"btn done"},[t._v(t._s(t.$t("Home.done")))]):a("div",{staticClass:"btn invite"},[t._v(" "+t._s(t.$t("Home.invite"))+" ")])]:0===t.taskStatus?a("div",{staticClass:"btn go"},[t._v(" "+t._s(t.$t("Home.go"))+" ")]):t._e(),t.showRightProgress?a("div",{staticClass:"right-progress task-progress"},[t._v(" ("),a("span",[t._v(t._s(t.taskData.current))]),t._v("/"+t._s(t.taskData.total)+") ")]):t._e()],2):t._e()]),t._t("footer")],2)},e=[],n=a("5530"),o=(a("ac1f"),a("5319"),a("e9c4"),a("646a")),c=a("57ef"),r=a("5880"),u=a("3e39"),l={name:"baseTaskItem",props:{taskData:{type:Object,require:!0},isShowDefaultBtn:{type:Boolean,default:!0},showProgress:{type:Boolean,default:!1}},data:function(){return{time:-1,countTimer:null,TASK_GIFT_BAG:c["Y"],TASK_SLEEP:c["gb"],CLASS_GAME_TAKE_TIME:c["k"],CLASS_NO_TRADE_GUIDE:c["s"]}},filters:{formatTime:o["formatTime"]},computed:Object(n["a"])(Object(n["a"])({},Object(r["mapState"])(["country","notSupportShare"])),{},{taskCode:function(t){var s=t.taskData;return s.task_code},taskClass:function(t){var s=t.taskData;return s.task_class},taskIcon:function(t){var s,a=t.taskData;return(null===a||void 0===a||null===(s=a.detail)||void 0===s?void 0:s.icon_url)||""},taskTitle:function(t){var s,a=t.taskData,i=(null===a||void 0===a||null===(s=a.detail)||void 0===s?void 0:s.title)||"";return i.replace("$coins",this.coins||"")},taskSubtitle:function(t){var s,a=t.taskData;return(null===a||void 0===a||null===(s=a.detail)||void 0===s?void 0:s.sub_title)||""},coins:function(t){var s=t.taskData;return s.detail.show_coin_num},notFixed:function(t){var s=t.taskData;return 1===s.detail.fixed_coin},taskStatus:function(t){var s=t.taskData;return Object(u["d"])(s)},taskItemShowLog:function(){var t={params:{eventId:"show_ve",pve_cur:"/newtask/task/".concat(this.taskCode),item:JSON.stringify({task_code:this.taskCode,type:"card"}),extras:{status:this.taskStatus,value:this.coins}}};return JSON.stringify({logData:t})},showProgressText:function(t){var s=t.taskData,a=t.showProgress;return s.total>1&&a},showCenterCoin:function(t){var s=t.taskCode,a=t.coins;return a||s===c["S"]},showRightCoin:function(t){var s=t.taskSubtitle,a=t.coins;return s&&a},showRightProgress:function(t){var s=t.taskSubtitle,a=t.showProgressText;return s&&a}}),watch:{"taskData.next_countdown":{immediate:!0,handler:function(t){t>0&&this.countDownTime(t)}}},methods:{countDownTime:function(t){var s=this;clearInterval(this.countTimer),this.time=t/1e3,this.countTimer=setInterval((function(){s.time-=1,s.time<=0&&(clearInterval(s.countTimer),s.countDownOver())}),1e3)},countDownOver:function(){this.$listeners.updateHomeInfo(c["kb"].COUNT_DOWN_OVER)},taskClick:function(t){this._logTaskClick(t);var s="";3===this.taskStatus&&(s=Object(o["formatTime"])(this.time,this.country)),this.$emit("handleTaskClick",Object(n["a"])(Object(n["a"])({},this.taskData),{},{coolDownTips:s}),this.taskStatus,"taskCard")},_logTaskClick:function(t){this.$stLog({params:{eventId:"click_ve",pve_cur:"/newtask/task/".concat(this.taskCode),item:JSON.stringify({task_code:this.taskCode,type:"card"}),extras:{click_area:t,status:this.taskStatus,value:this.coins}}})}},beforeDestroy:function(){clearInterval(this.countTimer)}},k=l,_=(a("d431"),a("2877")),v=Object(_["a"])(k,i,e,!1,null,"7bb16403",null);s["default"]=v.exports},c0fe:function(t,s,a){},d431:function(t,s,a){"use strict";a("c0fe")}}]);